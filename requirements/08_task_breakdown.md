# タスク分解・進捗管理 (TASK_BREAKDOWN)

## 1. 概要

Phase 1（ローカル完結型MVP）の実装タスクを分解し、進捗を管理する。

> **最終更新:** 2026-02-09
> **詳細な進捗管理:** → [09_progress_tracker.md](./09_progress_tracker.md)

## 2. タスク一覧

### ステップ1: プロジェクト初期セットアップ — ✅ 完了

| # | タスク | 完了条件 | 状態 |
|---|---|---|---|
| 1-1 | Next.js プロジェクト作成（TypeScript, App Router） | `npm run dev` で起動確認 | ✅ |
| 1-2 | MUI v5 + Emotion のインストール・テーマ設定 | カスタムテーマが適用された状態で表示確認 | ✅ |
| 1-3 | Zustand + 永続化ミドルウェアの導入 | persist でLocalStorage保存が動作 | ✅ |
| 1-4 | その他ライブラリのインストール | 全依存が `package.json` に記載 | ✅ |
| 1-5 | ディレクトリ構造の整備 | `app/`, `lib/`, `stores/`, `components/` 等を作成 | ✅ |

### ステップ2: データモデル・ストア設計 — ✅ 完了

| # | タスク | 完了条件 | 状態 |
|---|---|---|---|
| 2-1 | TypeScript 型定義（Deck, Card, StudyRecord 等） | `types/` に型ファイルを配置 | ✅ |
| 2-2 | デッキストア (`useDeckStore`) の実装 | デッキのCRUD操作が動作 | ✅ |
| 2-3 | カードストア (`useCardStore`) の実装 | カードのCRUD操作が動作 | ✅ |
| 2-4 | 学習ストア (`useStudyStore`) の実装 | 学習記録・ストリーク管理が動作 | ✅ |
| 2-5 | IndexedDB ヘルパー（画像保存/取得/削除） | 画像のBlob保存・取得が動作 | ✅ |
| 2-6 | SRSアルゴリズムの実装 | 評価に応じた次回復習日計算が正しく動作 | ✅ |

### ステップ3: 共通コンポーネント — ✅ 完了

| # | タスク | 完了条件 | 状態 |
|---|---|---|---|
| 3-1 | 共通レイアウト（Header, Container） | 全画面で共通ヘッダーが表示 | ✅ |
| 3-2 | Markdown プレビューコンポーネント | Markdownテキストが正しくレンダリング | ✅ |
| 3-3 | 画像アップロードコンポーネント | ファイル選択→プレビュー表示が動作 | ✅ |
| 3-4 | 確認ダイアログコンポーネント | 削除等の確認操作に使用可能 | ✅ |

### ステップ4: 画面実装 — ダッシュボード — ✅ 完了

| # | タスク | 完了条件 | 状態 |
|---|---|---|---|
| 4-1 | 今日の復習セクション（復習カード数 + 学習開始ボタン） | 今日のカード数が表示、ボタンで復習画面に遷移 | ✅ |
| 4-2 | 学習サマリーセクション（総カード数・ストリーク） | 正しい数値が表示 | ✅ |
| 4-3 | 定着度グラフ（円グラフ） | 学習中/定着済みの割合が円グラフで表示 | ✅ |
| 4-4 | デッキ一覧セクション | デッキ名・カード数が一覧表示、学習/編集ボタン付き | ✅ |
| 4-5 | デッキ作成ダイアログ | デッキ名を入力して作成可能 | ✅ |
| 4-6 | デッキ編集・削除機能 | デッキ名変更・削除が動作 | ✅ |

### ステップ5: 画面実装 — カード登録/編集 — ✅ 完了

| # | タスク | 完了条件 | 状態 |
|---|---|---|---|
| 5-1 | カード登録画面（モーダル or 専用ページ） | 表面/裏面のテキスト・画像を入力して保存可能 | ✅ |
| 5-2 | Markdownエディタ（ツールバー + テキストエリア + プレビュー） | Markdown装飾の入力補助とプレビューが動作 | ✅ |
| 5-3 | デッキ選択プルダウン | カードの所属デッキを選択可能 | ✅ |
| 5-4 | カード編集機能 | 既存カードのデータを読み込み、編集・保存可能 | ✅ |
| 5-5 | カード一覧表示（デッキ内） | デッキをクリックしてカード一覧を表示 | ✅ |
| 5-6 | カード検索機能 | テキストでカードを検索可能 | ✅ |
| 5-7 | カード削除機能 | 確認ダイアログ付きでカード削除可能 | ✅ |

### ステップ6: 画面実装 — 復習画面 — ✅ 完了

| # | タスク | 完了条件 | 状態 |
|---|---|---|---|
| 6-1 | 復習画面の基本レイアウト（プログレスバー + 終了リンク） | 進行状況が表示され、終了でダッシュボードに戻る | ✅ |
| 6-2 | カード表面表示（Markdownレンダリング + 画像） | 表面のテキスト・画像が正しく表示 | ✅ |
| 6-3 | 「答えを見る」→ 裏面表示 | ボタン押下で裏面が表示される | ✅ |
| 6-4 | 自己評価ボタン（難しい / 普通 / 簡単） | 評価選択後、SRSスケジュールが更新 | ✅ |
| 6-5 | 次のカードへの遷移（アニメーション付き） | fade遷移で次のカードが表示 | ✅ |
| 6-6 | セッション完了画面 | 全カード復習後に完了メッセージ表示 | ✅ |
| 6-7 | ストリーク更新処理 | 復習実行時にストリークが更新される | ✅ |

### ステップ7: 設定・エクスポート/インポート — ✅ 完了

| # | タスク | 完了条件 | 状態 |
|---|---|---|---|
| 7-1 | 設定画面（歯車アイコンからアクセス） | 設定画面が表示される | ✅ |
| 7-2 | データエクスポート（JSON） | 全データを単一JSONファイルとしてダウンロード可能 | ✅ |
| 7-3 | データインポート（JSON） | JSONアップロードで全データ置換が動作 | ✅ |

### ステップ8: 仕上げ — 🔄 進行中

| # | タスク | 完了条件 | 状態 |
|---|---|---|---|
| 8-1 | レスポンシブデザインの調整 | PC / タブレット / スマートフォンで表示確認 | ⚠️ |
| 8-2 | 空状態のデザイン（デッキ0件、カード0件） | 空の状態でガイドメッセージが表示 | ✅ |
| 8-3 | エラーハンドリング（画像サイズ超過等） | 適切なエラーメッセージが表示 | ⚠️ |
| 8-4 | Vercel デプロイ確認 | `npm run build` が成功、Vercel上で動作確認 | ⬜ |

---

## 3. 実装順序

```
ステップ1 ✅ → ステップ2 ✅ → ステップ3 ✅ → ステップ4 ✅ → ステップ5 ✅ → ステップ6 ✅ → ステップ7 ✅ → ステップ8 🔄
```

各ステップ内のタスクは上から順に実施。前のステップが完了してから次のステップに進む。

## 4. 次のアクション

**→ ステップ8: 仕上げ** の残タスク（レスポンシブ確認・エラーハンドリング・Vercelデプロイ）に着手する。
