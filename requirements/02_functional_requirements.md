# 機能要件 (FUNCTIONAL_REQUIREMENTS)

## 1. 機能一覧
本アプリケーションが実装すべき機能要件を以下に定義する。

### 1.1. 知識カード登録機能
- **目的:** ユーザーが記憶したい知識を構造化して登録する。
- **振る舞い:**
  - 知識は「カード」という単位で管理される。
  - 各カードは、必ず「表面（Question）」と「裏面（Answer）」の2つの側面を持つ。
  - 表面・裏面には、それぞれテキストおよび画像の登録が可能である。
  - テキスト入力はMarkdown形式に対応し、以下の装飾を許可する。
    - 見出し
    - 太字、イタリック
    - リスト（順序付き、順序なし）
    - コードブロック
  - 画像はユーザーのローカルデバイスからアップロードできるものとする。

### 1.2. 復習機能
- **目的:** 忘却曲線理論に基づき、最適なタイミングでユーザーにカードを提示し、記憶の定着を促す。
- **振る舞い:**
  - アプリケーションは、その日に復習すべき全てのカードを「今日のデッキ」として自動的に生成し、ユーザーに提示する。
  - 復習セッションでは、カードは1枚ずつ表示される。
  - 最初はカードの「表面」のみが表示される。
  - ユーザーが「答えを見る」アクションを実行すると、「裏面」が表示される。
  - 「裏面」表示後、ユーザーは自身の理解度を以下の3段階で自己評価する。
    1.  `難しい (Again)`: 全く思い出せなかった。
    2.  `普通 (Hard)`: 少し時間がかかったが、思い出せた。
    3.  `簡単 (Good)`: すぐに思い出せた。
  - アプリケーションは、この自己評価に基づき、間隔反復学習（SRS）アルゴリズムを用いて、そのカードの次回復習日を計算し、スケジュールを更新する。
    - （アルゴリズム詳細）: SuperMemo 2 (SM-2) アルゴリズムを参考に、以下のような簡易的な間隔調整を行うことを想定する。
      - `難しい`: 間隔をリセットする (例: 1日後)
      - `普通`: 間隔を少し伸ばす (例: 現在の間隔 x 1.5)
      - `簡単`: 間隔を大きく伸ばす (例: 現在の間隔 x 2.5)

### 1.3. Webクリッパー機能 (Chrome拡張)
- **目的:** Webブラウジング中の情報収集からカード登録までのプロセスをシームレスにし、入力の手間を最小化する。
- **振る舞い:**
  - 本機能はGoogle Chromeの拡張機能として提供される。
  - ユーザーがWebページ上でテキストを選択、または画像を右クリックすると、OSのコンテキストメニューに「Memory Appにカードとして追加」という項目が表示される。
  - テキストを選択して実行した場合、選択したテキストがカードの「表面」に自動で入力された状態で、カード登録UI（ポップアップまたは新しいタブ）が開く。
  - 画像を右クリックして実行した場合、その画像がカードの「表面」に自動で添付された状態で、カード登録UIが開く。

### 1.4. 学習ダッシュボード機能
- **目的:** 学習状況を可視化し、ユーザーのモチベーションを維持・向上させる。
- **振る舞い:**
  - アプリのトップページに、以下の情報を含むダッシュボードが表示される。
    - **総カード数:** 登録されている全てのカードの枚数。
    - **カードの定着度:** 全カードを「学習中」「定着済み」などのステータスに分類し、その割合を円グラフなどで表示する。
    - **連続学習日数（ストリーク）:** 1日1回以上復習セッションを完了した連続日数を表示する。

---
*以下は、開発ロードマップのフェーズ2以降で実装が検討される機能である。*

### 1.5. 【Phase 2】デッキ共有・インポート機能
- **目的:** ユーザー間で学習コンテンツを共有し、プラットフォーム全体の価値を高める。
- **振る舞い:**
  - ユーザーは自身のアカウントを作成する。
  - 自分が作成したカードの集合（デッキ）を、サーバーにアップロードし、他のユーザーに公開できる。
  - 他のユーザーが公開したデッキを検索し、自分のアカウントにインポートして学習対象に追加できる。

### 1.6. 【Phase 3】デッキマーケットプレイス機能
- **目的:** コンテンツクリエイターに収益化の手段を提供し、より高品質な学習コンテンツが集まるエコシステムを構築する。
- **振る舞い:**
  - ユーザーは公開するデッキに価格を設定できる。
  - 他のユーザーは、オンライン決済を通じて有料デッキを購入できる。
  - プラットフォームは、取引ごとに一定の販売手数料を収益として得る。
